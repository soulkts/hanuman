---
layout: post
title:  "20210203"
date:   2021-02-03
author: TS
categories: daily
---

어제 분명 일지를 쓴 것 같은데 왜 없을까.

아무튼... 지지부진하던 대시보드의 월별 매출 현황 페이지 수정하는 작업이 끝났다.

그동안 수기로 년도가 바뀔 때마다 추가로 작업을 해주고 있었는데, 앞으로는 자동으로 생성되고 쿼리 속도도 대폭 향상 시킨 버전으로 리팩토링을 진행했다.

사장님이 나서야 리팩토링 되는 모습을 보니 씁쓸하다.

기존 연도의 데이터들을 일부러 한 번 쿼리를 돌려서 새로 생성한 테이블에 저장해 놓고 불러오는 방식으로 바꿨다.

새로 추가되는 연도의 데이터는 월이 바뀔 때마다 테이블에 신규 행이 저장되도록 해놓았고.

다음달에도 문제 없이 잘 나오는지 한 번 체크해 봐야겠다.

---

